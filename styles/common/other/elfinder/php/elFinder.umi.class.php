<?php
   require_once dirname(__FILE__) . DIRECTORY_SEPARATOR . 'elFinder.class.php';class elFinderUmiru extends elFinder {protected function paste($args) {$v28e3d688a3c077b887921cea3fb1dbc7     = $args['dst'];$vaa6f6d62574dedec24672f4ae1c9ca26 = is_array($args['targets']) ? $args['targets'] : [];$vfe47aa7c733c490d36e80508d5dc4019     = !empty($args['cut']);$result  = ['removed' => [], 'added' => []];$vcb5e100e5a9a3e7f6d1fd97512215282   = $vfe47aa7c733c490d36e80508d5dc4019 ? self::ERROR_MOVE : self::ERROR_COPY;if (!$vaa6f6d62574dedec24672f4ae1c9ca26) {return [];}if (($v013413ea55b41be72b20283d97d13ffc = $this->volume($v28e3d688a3c077b887921cea3fb1dbc7)) == false   || ($v1f96847148ce7b5798796309f94a4277 = $v013413ea55b41be72b20283d97d13ffc->dir($v28e3d688a3c077b887921cea3fb1dbc7)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, htmlspecialchars('#'.$vaa6f6d62574dedec24672f4ae1c9ca26[0]), self::ERROR_TRGDIR_NOT_FOUND, htmlspecialchars('#'.$v28e3d688a3c077b887921cea3fb1dbc7))];}if (!$v1f96847148ce7b5798796309f94a4277['write']) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, htmlspecialchars('#'.$vaa6f6d62574dedec24672f4ae1c9ca26[0]), self::ERROR_PERM_DENIED)];}foreach ($vaa6f6d62574dedec24672f4ae1c9ca26 as $v42aefbae01d2dfd981f7da7d823d689e) {if (($vdb1464c8472caad27fb423bafabf85a3 = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false    || ($v25d902c24283ab8cfbac54dfa101ad31 = $vdb1464c8472caad27fb423bafabf85a3->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, htmlspecialchars('#'.$v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND);break;}if ($v013413ea55b41be72b20283d97d13ffc != $vdb1464c8472caad27fb423bafabf85a3) {if (!$vdb1464c8472caad27fb423bafabf85a3->copyFromAllowed()) {$v63a9f0ea7bb98050796b649e85481845 = $vdb1464c8472caad27fb423bafabf85a3->file($vdb1464c8472caad27fb423bafabf85a3->root());$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_COPY_FROM, htmlspecialchars($v63a9f0ea7bb98050796b649e85481845['name']));break;}if (!$v013413ea55b41be72b20283d97d13ffc->copyToAllowed()) {$v63a9f0ea7bb98050796b649e85481845 = $v013413ea55b41be72b20283d97d13ffc->file($v013413ea55b41be72b20283d97d13ffc->root());$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_COPY_TO, htmlspecialchars($v63a9f0ea7bb98050796b649e85481845['name']));break;}}if (($v8c7dd922ad47494fc02c388e12c00eac = $this->copy($vdb1464c8472caad27fb423bafabf85a3, $v013413ea55b41be72b20283d97d13ffc, $v25d902c24283ab8cfbac54dfa101ad31, $v28e3d688a3c077b887921cea3fb1dbc7, $vfe47aa7c733c490d36e80508d5dc4019)) == false) {$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $this->copyError, $vdb1464c8472caad27fb423bafabf85a3->error());break;}if (!$v013413ea55b41be72b20283d97d13ffc->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}$result = $this->merge($result, $this->trigger('paste', [$vdb1464c8472caad27fb423bafabf85a3, $v013413ea55b41be72b20283d97d13ffc], ['added' => [$v8c7dd922ad47494fc02c388e12c00eac]]));if ($vfe47aa7c733c490d36e80508d5dc4019) {if (!$vdb1464c8472caad27fb423bafabf85a3->rm($v25d902c24283ab8cfbac54dfa101ad31['hash'])) {$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v25d902c24283ab8cfbac54dfa101ad31['name'], $vdb1464c8472caad27fb423bafabf85a3->error());break;}$result = $this->merge($result, $this->trigger('rm', $vdb1464c8472caad27fb423bafabf85a3, ['removed' => [$v25d902c24283ab8cfbac54dfa101ad31['hash']], 'removedDetails' => [$v25d902c24283ab8cfbac54dfa101ad31]]));}}return $result;}protected function upload($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e);$v099fb995346f31c749f6e40db0f395e3 = !empty($args['html']) ? 'Content-Type: text/html; charset=utf-8' : false;$result = ['added' => [], 'header' => $v099fb995346f31c749f6e40db0f395e3];$v45b963397aa40d4a0063e0d85e4fe7a1  = !empty($args['FILES']['upload']) && is_array($args['FILES']['upload'])    ? $args['FILES']['upload']    : [];if (empty($v45b963397aa40d4a0063e0d85e4fe7a1)) {return ['error' => $this->error(self::ERROR_UPLOAD_NO_FILES), 'header' => $v099fb995346f31c749f6e40db0f395e3];}if (!$v210ab9e731c9c36c2c38db15c28a8d1c) {return ['error' => $this->error(self::ERROR_UPLOAD, htmlspecialchars($v45b963397aa40d4a0063e0d85e4fe7a1['name'][0]), self::ERROR_TRGDIR_NOT_FOUND, htmlspecialchars('#'.$v42aefbae01d2dfd981f7da7d823d689e)), 'header' => $v099fb995346f31c749f6e40db0f395e3];}foreach ($v45b963397aa40d4a0063e0d85e4fe7a1['name'] as $v865c0c0b4ab0e063e5caa3387c1a8741 => $vb068931cc450442b63f5b3d276ea4297) {$v3b4305ca5958466aca62ab417ca628f5 = $v45b963397aa40d4a0063e0d85e4fe7a1['tmp_name'][$v865c0c0b4ab0e063e5caa3387c1a8741];if ($v45b963397aa40d4a0063e0d85e4fe7a1['error'][$v865c0c0b4ab0e063e5caa3387c1a8741]) {$v3555840ae7d8f52f3539dc2ab5048cca = $this->uploadErrorText($v45b963397aa40d4a0063e0d85e4fe7a1['error'][$v865c0c0b4ab0e063e5caa3387c1a8741], htmlspecialchars($vb068931cc450442b63f5b3d276ea4297));if($v3555840ae7d8f52f3539dc2ab5048cca === null) {$result['warning'] = $this->error(self::ERROR_UPLOAD_TRANSFER, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297));}else {$result['warning'] = $this->error(self::ERROR_UPLOAD_TRANSFER, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297), $v3555840ae7d8f52f3539dc2ab5048cca);}break;}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->uploadAllow($v3b4305ca5958466aca62ab417ca628f5, $vb068931cc450442b63f5b3d276ea4297)) {$result['warning'] = $this->error(self::ERROR_UPLOAD, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297), $v210ab9e731c9c36c2c38db15c28a8d1c->error());break;}if (($v0666f0acdeed38d4cd9084ade1739498  = fopen($v3b4305ca5958466aca62ab417ca628f5, 'rb')) == false) {$result['warning'] = $this->error(self::ERROR_UPLOAD, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297), self::ERROR_UPLOAD_NO_FILES);break;}if(($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->save($v0666f0acdeed38d4cd9084ade1739498, $v42aefbae01d2dfd981f7da7d823d689e, $vb068931cc450442b63f5b3d276ea4297, 'upload')) == false) {$result['warning'] = $this->error(self::ERROR_UPLOAD, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297), $v210ab9e731c9c36c2c38db15c28a8d1c->error());break;}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}$result = $this->merge($result, $this->trigger('upload', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => [$v8c7dd922ad47494fc02c388e12c00eac]]));}$result['header'] = $v099fb995346f31c749f6e40db0f395e3;return $result;}protected function uploadErrorText($v0279985cdca9ad2836b5dc949af215c8, $vb068931cc450442b63f5b3d276ea4297) {switch($v0279985cdca9ad2836b5dc949af215c8) {case UPLOAD_ERR_INI_SIZE: {$v22e06709f4ec102c4af9623f7bdd1da2 = is_numeric(ini_get('upload_max_filesize')) ? ini_get('upload_max_filesize') . 'M' : ini_get('upload_max_filesize');return  getLabel('error-max_filesize') . " {$v22e06709f4ec102c4af9623f7bdd1da2}";}break;case UPLOAD_ERR_FORM_SIZE: {return getLabel('error-max_filesize');}}return null;}}