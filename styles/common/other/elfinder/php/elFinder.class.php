<?php
class elFinder {protected $version = '2.0';protected $volumes = [];public static $volumesCnt = 1;protected $default;protected $commands = [  'open'      => ['target' => false, 'tree' => false, 'init' => false, 'mimes' => false],  'ls'        => ['target' => true, 'mimes' => false],  'tree'      => ['target' => true],  'parents'   => ['target' => true],  'tmb'       => ['targets' => true],  'file'      => ['target' => true, 'download' => false],  'size'      => ['targets' => true],  'mkdir'     => ['target' => true, 'name' => true],  'mkfile'    => ['target' => true, 'name' => true, 'mimes' => false],  'rm'        => ['targets' => true],  'rename'    => ['target' => true, 'name' => true, 'mimes' => false],  'duplicate' => ['targets' => true],  'paste'     => ['dst' => true, 'targets' => true, 'cut' => false, 'mimes' => false],  'upload'    => ['target' => true, 'FILES' => true, 'mimes' => false, 'html' => false],  'get'       => ['target' => true],  'put'       => ['target' => true, 'content' => '', 'mimes' => false],  'archive'   => ['targets' => true, 'type' => true, 'mimes' => false],  'extract'   => ['target' => true, 'mimes' => false],  'search'    => ['q' => true, 'mimes' => false],  'info'      => ['targets' => true],  'dim'       => ['target' => true] ];protected $listeners = [];protected $time = 0;protected $loaded = false;protected $debug = false;protected $copyError = [];protected $disabled = [];const ERROR_UNKNOWN           = 0;const ERROR_UNKNOWN_CMD       = 1;const ERROR_CONF              = 2;const ERROR_CONF_NO_JSON      = 3;const ERROR_CONF_NO_VOL       = 4;const ERROR_INV_PARAMS        = 5;const ERROR_OPEN              = 6;const ERROR_DIR_NOT_FOUND     = 7;const ERROR_FILE_NOT_FOUND    = 8;const ERROR_TRGDIR_NOT_FOUND  = 9;const ERROR_NOT_DIR           = 10;const ERROR_NOT_FILE          = 11;const ERROR_PERM_DENIED       = 12;const ERROR_LOCKED            = 13;const ERROR_EXISTS            = 14;const ERROR_INVALID_NAME      = 15;const ERROR_MKDIR             = 16;const ERROR_MKFILE            = 17;const ERROR_RENAME            = 18;const ERROR_COPY              = 19;const ERROR_MOVE              = 20;const ERROR_COPY_FROM         = 21;const ERROR_COPY_TO           = 22;const ERROR_COPY_ITSELF       = 23;const ERROR_RM                = 24;const ERROR_UPLOAD_COMMON     = 25;const ERROR_UPLOAD            = 26;const ERROR_UPLOAD_NO_FILES   = 27;const ERROR_UPLOAD_FILES_SIZE = 28;const ERROR_UPLOAD_SIZE       = 29;const ERROR_MIME              = 30;const ERROR_UPLOAD_TRANSFER   = 31;const ERROR_ACCESS_DENIED     = 32;const ERROR_SAVE              = 33;const ERROR_EXTRACT           = 34;const ERROR_ARCHIVE     = 35;const ERROR_NOT_ARCHIVE    = 36;const ERROR_ARCHIVE_TYPE      = 37;protected static $errors = [  0  => 'errUnknown',  1  => 'errUnknownCmd',  2  => 'errConf',  3  => 'errJSON',  4  => 'errNoVolumes',  5  => 'errCmdParams',  6  => 'errOpen',  7  => 'errFolderNotFound',  8  => 'errFileNotFound',  9  => 'errTrgFolderNotFound',  10 => 'errNotFolder',  11 => 'errNotFile',  12 => 'errPerm',  13 => 'errLocked',  14 => 'errExists',  15 => 'errInvName',  16 => 'errMkdir',  17 => 'errMkfile',  18 => 'errRename',  19 => 'errCopy',  20 => 'erMove',  21 => 'CerrCopyFrom',  22 => 'errCopyTo',  23 => 'errCopyInItself',  24 => 'errRm',  25 => 'errUploadCommon',  26 => 'errUpload',  27 => 'errUploadNoFiles',  28 => 'errMaxSize',  29 => 'errFileMaxSize',  30 => 'errUploadMime',  31 => 'errUploadTransfer',  32 => 'errAccess',  33 => 'errSave',  34 => 'errExtract',  35 => 'errArchive',  36 => 'errNoArchive',  37 => 'errArcType', ];public function __construct($veb4112b6a6b76c8a84808a40baa94769) {$this->time  = $this->utime();$this->debug = !empty($veb4112b6a6b76c8a84808a40baa94769['debug']);setlocale(LC_ALL, !empty($veb4112b6a6b76c8a84808a40baa94769['locale']) ? $veb4112b6a6b76c8a84808a40baa94769['locale'] : 'en_US.UTF-8');if (!empty($veb4112b6a6b76c8a84808a40baa94769['bind']) && is_array($veb4112b6a6b76c8a84808a40baa94769['bind'])) {foreach ($veb4112b6a6b76c8a84808a40baa94769['bind'] as $vdfff0a7fa1a55c8c1a4966c19f6da452 => $vc1cbfe271a40788a00e8bf8574d94d4b) {$this->bind($vdfff0a7fa1a55c8c1a4966c19f6da452, $vc1cbfe271a40788a00e8bf8574d94d4b);}}if (isset($veb4112b6a6b76c8a84808a40baa94769['roots']) && is_array($veb4112b6a6b76c8a84808a40baa94769['roots'])) {foreach ($veb4112b6a6b76c8a84808a40baa94769['roots'] as $v865c0c0b4ab0e063e5caa3387c1a8741 => $vd95679752134a2d9eb61dbd7b91c4bcc) {$va2f2ed4f8ebc2cbb4c21a29dc40ab61d = 'elFinderVolume'.$vd95679752134a2d9eb61dbd7b91c4bcc['driver'];if (class_exists($va2f2ed4f8ebc2cbb4c21a29dc40ab61d)) {$v210ab9e731c9c36c2c38db15c28a8d1c = new $va2f2ed4f8ebc2cbb4c21a29dc40ab61d();if ($v210ab9e731c9c36c2c38db15c28a8d1c->mount($vd95679752134a2d9eb61dbd7b91c4bcc)) {$vb80bb7740288fda1f201890375a60c8f = $v210ab9e731c9c36c2c38db15c28a8d1c->id();$this->volumes[$vb80bb7740288fda1f201890375a60c8f] = $v210ab9e731c9c36c2c38db15c28a8d1c;if (!$this->default && $v210ab9e731c9c36c2c38db15c28a8d1c->isReadable()) {$this->default = $this->volumes[$vb80bb7740288fda1f201890375a60c8f];}}}}}$this->loaded = !empty($this->default);}public function loaded() {return $this->loaded;}public function version() {return $this->version;}public function bind($vdfff0a7fa1a55c8c1a4966c19f6da452, $vc1cbfe271a40788a00e8bf8574d94d4b) {$vb02e953333a82648b5a801671822ad98 = array_map('trim', explode(' ', $vdfff0a7fa1a55c8c1a4966c19f6da452));foreach ($vb02e953333a82648b5a801671822ad98 as $vdfff0a7fa1a55c8c1a4966c19f6da452) {if ($vdfff0a7fa1a55c8c1a4966c19f6da452) {if (!isset($this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452])) {$this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452] = [];}if ((is_array($vc1cbfe271a40788a00e8bf8574d94d4b) && count($vc1cbfe271a40788a00e8bf8574d94d4b) == 2 && is_object($vc1cbfe271a40788a00e8bf8574d94d4b[0]) && method_exists($vc1cbfe271a40788a00e8bf8574d94d4b[0], $vc1cbfe271a40788a00e8bf8574d94d4b[1]))    || function_exists($vc1cbfe271a40788a00e8bf8574d94d4b)) {$this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452][] = $vc1cbfe271a40788a00e8bf8574d94d4b;}}}return $this;}public function unbind($vdfff0a7fa1a55c8c1a4966c19f6da452, $vc1cbfe271a40788a00e8bf8574d94d4b) {if (!empty($this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452])) {foreach ($this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452] as $v865c0c0b4ab0e063e5caa3387c1a8741 => $v2510c39011c5be704182423e3a695e91) {if ($v2510c39011c5be704182423e3a695e91 === $vc1cbfe271a40788a00e8bf8574d94d4b) {unset($this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452][$v865c0c0b4ab0e063e5caa3387c1a8741]);return $this;}}}return $this;}public function commandExists($vdfff0a7fa1a55c8c1a4966c19f6da452) {return $this->loaded && isset($this->commands[$vdfff0a7fa1a55c8c1a4966c19f6da452]) && method_exists($this, $vdfff0a7fa1a55c8c1a4966c19f6da452);}public function commandArgsList($vdfff0a7fa1a55c8c1a4966c19f6da452) {return $this->commandExists($vdfff0a7fa1a55c8c1a4966c19f6da452) ? $this->commands[$vdfff0a7fa1a55c8c1a4966c19f6da452] : [];}public function exec($vdfff0a7fa1a55c8c1a4966c19f6da452, $args) {if (!$this->loaded) {return ['error' => $this->error(self::ERROR_CONF, self::ERROR_CONF_NO_VOL)];}if (!$this->commandExists($vdfff0a7fa1a55c8c1a4966c19f6da452)) {return ['error' => $this->error(self::ERROR_UNKNOWN_CMD)];}$result = $this->$vdfff0a7fa1a55c8c1a4966c19f6da452($args);if ($this->debug || !empty($args['debug'])) {$result['debug'] = [    'connector' => 'php',    'phpver'    => PHP_VERSION,    'time'      => $this->utime() - $this->time,    'memory'    => ceil(memory_get_peak_usage()/1024).'Kb / '.ceil(memory_get_usage()/1024).'Kb / '.ini_get('memory_limit'),    'volumes'   => []   ];foreach ($this->volumes as $vb80bb7740288fda1f201890375a60c8f => $v210ab9e731c9c36c2c38db15c28a8d1c) {$result['debug']['volumes'][] = array_merge(     ['id' => $vb80bb7740288fda1f201890375a60c8f, 'driver' => $v210ab9e731c9c36c2c38db15c28a8d1c->name()],     $v210ab9e731c9c36c2c38db15c28a8d1c->debug());}}return $result;}public function error() {$v07213a0161f52846ab198be103b5ab43 = [];foreach (func_get_args() as $v6e2baaf3b97dbeef01c0043275f9a0e7) {if (is_array($v6e2baaf3b97dbeef01c0043275f9a0e7)) {$v07213a0161f52846ab198be103b5ab43 = array_merge($v07213a0161f52846ab198be103b5ab43, $v6e2baaf3b97dbeef01c0043275f9a0e7);}else {$v07213a0161f52846ab198be103b5ab43[] = $v6e2baaf3b97dbeef01c0043275f9a0e7;}}if (!count($v07213a0161f52846ab198be103b5ab43)) {return self::$errors[self::ERROR_UNKNOWN];}foreach ($v07213a0161f52846ab198be103b5ab43 as $v865c0c0b4ab0e063e5caa3387c1a8741 => $v6e2baaf3b97dbeef01c0043275f9a0e7) {if (is_int($v6e2baaf3b97dbeef01c0043275f9a0e7) && !empty(self::$errors[$v6e2baaf3b97dbeef01c0043275f9a0e7])) {$v07213a0161f52846ab198be103b5ab43[$v865c0c0b4ab0e063e5caa3387c1a8741] = self::$errors[$v6e2baaf3b97dbeef01c0043275f9a0e7];}elseif ($v865c0c0b4ab0e063e5caa3387c1a8741 == 0) {$v07213a0161f52846ab198be103b5ab43[$v865c0c0b4ab0e063e5caa3387c1a8741] = self::$errors[self::ERROR_UNKNOWN];}}return $v07213a0161f52846ab198be103b5ab43;}protected function open($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$ve37f0136aa3ffaf149b351f6a4c948e9   = !empty($args['init']);$vc0af77cf8294ff93a5cdb2963ca9f038   = !empty($args['tree']);$v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e);$v109633366fd0d46d371ede589998abaa    = $v210ab9e731c9c36c2c38db15c28a8d1c ? $v210ab9e731c9c36c2c38db15c28a8d1c->dir($v42aefbae01d2dfd981f7da7d823d689e, false, true) : false;$v0800fc577294c34e0b28ad2839435945   = $ve37f0136aa3ffaf149b351f6a4c948e9 ? 'default folder' : '#'.$v42aefbae01d2dfd981f7da7d823d689e;if ((!$v109633366fd0d46d371ede589998abaa || !$v109633366fd0d46d371ede589998abaa['read']) && $ve37f0136aa3ffaf149b351f6a4c948e9) {$v210ab9e731c9c36c2c38db15c28a8d1c = $this->default;$v109633366fd0d46d371ede589998abaa    = $v210ab9e731c9c36c2c38db15c28a8d1c->dir($v210ab9e731c9c36c2c38db15c28a8d1c->defaultPath(), false, true);}if (!$v109633366fd0d46d371ede589998abaa) {return ['error' => $this->error(self::ERROR_OPEN, $v0800fc577294c34e0b28ad2839435945, self::ERROR_DIR_NOT_FOUND)];}if (!$v109633366fd0d46d371ede589998abaa['read']) {return ['error' => $this->error(self::ERROR_OPEN, $v0800fc577294c34e0b28ad2839435945, self::ERROR_PERM_DENIED)];}$v45b963397aa40d4a0063e0d85e4fe7a1 = [];if ($args['tree']) {foreach ($this->volumes as $vb80bb7740288fda1f201890375a60c8f => $v9e3669d19b675bd57058fd4664205d2a) {if (($vc0af77cf8294ff93a5cdb2963ca9f038 = $v9e3669d19b675bd57058fd4664205d2a->tree(null, 0, $v42aefbae01d2dfd981f7da7d823d689e)) != false) {$v45b963397aa40d4a0063e0d85e4fe7a1 = array_merge($v45b963397aa40d4a0063e0d85e4fe7a1, $vc0af77cf8294ff93a5cdb2963ca9f038);}}}if (($v44ba5ca65651b4f36f1927576dd35436 = $v210ab9e731c9c36c2c38db15c28a8d1c->scandir($v109633366fd0d46d371ede589998abaa['hash'], $args['mimes'])) === false) {return ['error' => $this->error(self::ERROR_OPEN, htmlspecialchars($v109633366fd0d46d371ede589998abaa['name']), $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}foreach ($v44ba5ca65651b4f36f1927576dd35436 as $v8c7dd922ad47494fc02c388e12c00eac) {if (!in_array($v8c7dd922ad47494fc02c388e12c00eac, $v45b963397aa40d4a0063e0d85e4fe7a1)) {$v45b963397aa40d4a0063e0d85e4fe7a1[] = $v8c7dd922ad47494fc02c388e12c00eac;}}$result = [   'cwd'     => $v109633366fd0d46d371ede589998abaa,   'options' => $v210ab9e731c9c36c2c38db15c28a8d1c->options($v42aefbae01d2dfd981f7da7d823d689e),   'files'   => $v45b963397aa40d4a0063e0d85e4fe7a1  ];if (!empty($args['init'])) {$result['api'] = $this->version;$result['uplMaxSize'] = ini_get('upload_max_filesize');}return $result;}protected function ls($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_DIR_NOT_FOUND)];}if (($v10ae9fc7d453b0dd525d0edf2ede7961 = $v210ab9e731c9c36c2c38db15c28a8d1c->ls($v42aefbae01d2dfd981f7da7d823d689e)) === false) {return ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}return ['list' => $v10ae9fc7d453b0dd525d0edf2ede7961];}protected function tree($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error(self::ERROR_OPEN, '#'.$v42aefbae01d2dfd981f7da7d823d689e, self::ERROR_DIR_NOT_FOUND)];}if (($v736007832d2167baaae763fd3a3f3cf1 = $v210ab9e731c9c36c2c38db15c28a8d1c->dir($v42aefbae01d2dfd981f7da7d823d689e)) == false  || ($vc0af77cf8294ff93a5cdb2963ca9f038 = $v210ab9e731c9c36c2c38db15c28a8d1c->tree($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}return ['tree' => $vc0af77cf8294ff93a5cdb2963ca9f038];}protected function parents($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_DIR_NOT_FOUND)];}return ($vc0af77cf8294ff93a5cdb2963ca9f038 = $v210ab9e731c9c36c2c38db15c28a8d1c->parents($v42aefbae01d2dfd981f7da7d823d689e)) === false   ? ['error' => $this->error($v210ab9e731c9c36c2c38db15c28a8d1c->error())]   : ['tree' => $vc0af77cf8294ff93a5cdb2963ca9f038];}protected function tmb($args) {set_time_limit(0);$result  = ['images' => []];$vaa6f6d62574dedec24672f4ae1c9ca26 = $args['targets'];foreach ($vaa6f6d62574dedec24672f4ae1c9ca26 as $v42aefbae01d2dfd981f7da7d823d689e) {if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false) {if (!isset($result['tmb_warnings'])) {$result['tmb_warnings'] = [];}$result['tmb_warnings'][] = $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND);}elseif (($va8b687c2e93191d90a6d7b8982ceec4a = $v210ab9e731c9c36c2c38db15c28a8d1c->tmb($v42aefbae01d2dfd981f7da7d823d689e)) != false) {$result['images'][$v42aefbae01d2dfd981f7da7d823d689e] = $va8b687c2e93191d90a6d7b8982ceec4a;}}return $result;}protected function file($args) {$v42aefbae01d2dfd981f7da7d823d689e   = $args['target'];$vfd456406745d816a45cae554c788e754 = !empty($args['download']);$v1a5d064d66623cb3c6381ac314d36756     = 'HTTP/1.x 403 Access Denied';$vc893473e5d390b23d9d309b15d4f07fd     = 'HTTP/1.x 404 Not Found';if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => self::$errors[self::ERROR_FILE_NOT_FOUND], 'header' => $vc893473e5d390b23d9d309b15d4f07fd, 'raw' => true];}if (($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => self::$errors[self::ERROR_FILE_NOT_FOUND], 'header' => $vc893473e5d390b23d9d309b15d4f07fd, 'raw' => true];}if (!$v8c7dd922ad47494fc02c388e12c00eac['read']) {return ['error' => self::$errors[self::ERROR_ACCESS_DENIED], 'header' => $v1a5d064d66623cb3c6381ac314d36756, 'raw' => true];}if (($v0666f0acdeed38d4cd9084ade1739498 = $v210ab9e731c9c36c2c38db15c28a8d1c->open($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => self::$errors[self::ERROR_FILE_NOT_FOUND], 'header' => $vc893473e5d390b23d9d309b15d4f07fd, 'raw' => true];}if ($vfd456406745d816a45cae554c788e754) {$v7b1111949463c32a5ae41facb8ecb5f8 = 'attachment';$vd02a169f33469c888396a24dd9d9f1c6 = 'application/octet-stream';}else {$v7b1111949463c32a5ae41facb8ecb5f8  = preg_match('/^(image|text)/i', $v8c7dd922ad47494fc02c388e12c00eac['mime'])    || $v8c7dd922ad47494fc02c388e12c00eac['mime'] == 'application/x-shockwave-flash'     ? 'inline'     : 'attachment';$vd02a169f33469c888396a24dd9d9f1c6 = $v8c7dd922ad47494fc02c388e12c00eac['mime'];}$result = [   'volume'  => $v210ab9e731c9c36c2c38db15c28a8d1c,   'pointer' => $v0666f0acdeed38d4cd9084ade1739498,   'info'    => $v8c7dd922ad47494fc02c388e12c00eac,   'header'  => [    'Content-Type: ' .$vd02a169f33469c888396a24dd9d9f1c6,    'Content-Disposition: ' .$v7b1111949463c32a5ae41facb8ecb5f8. '; filename=' .rawurlencode($v8c7dd922ad47494fc02c388e12c00eac['name']),    'Content-Location: ' .$v8c7dd922ad47494fc02c388e12c00eac['name'],    'Content-Transfer-Encoding: binary',    'Content-Length: ' .$v8c7dd922ad47494fc02c388e12c00eac['size'],    'Connection: close'   ]  ];return $result;}protected function size($args) {$vf7bd60b75b29d79b660a2859395c1a24 = 0;foreach ($args['targets'] as $v42aefbae01d2dfd981f7da7d823d689e) {if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false   || ($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND)];}if (!$v8c7dd922ad47494fc02c388e12c00eac['read']) {return ['error' => $this->error(self::ERROR_OPEN, htmlspecialchars($v8c7dd922ad47494fc02c388e12c00eac['name']), self::ERROR_PERM_DENIED)];}$vf7bd60b75b29d79b660a2859395c1a24 += $v210ab9e731c9c36c2c38db15c28a8d1c->size($v42aefbae01d2dfd981f7da7d823d689e);}return ['size' => $vf7bd60b75b29d79b660a2859395c1a24];}protected function mkdir($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$vb068931cc450442b63f5b3d276ea4297   = $args['name'];$vcb5e100e5a9a3e7f6d1fd97512215282  = [self::ERROR_MKDIR, $vb068931cc450442b63f5b3d276ea4297];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false  || ($v736007832d2167baaae763fd3a3f3cf1 = $v210ab9e731c9c36c2c38db15c28a8d1c->dir($v42aefbae01d2dfd981f7da7d823d689e, false, true)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_TRGDIR_NOT_FOUND, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e))];}if (!$v736007832d2167baaae763fd3a3f3cf1['read']) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_PERM_DENIED)];}if (($v736007832d2167baaae763fd3a3f3cf1 = $v210ab9e731c9c36c2c38db15c28a8d1c->mkdir($v42aefbae01d2dfd981f7da7d823d689e, $vb068931cc450442b63f5b3d276ea4297)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}return $this->trigger('mkdir', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => [$v736007832d2167baaae763fd3a3f3cf1]]);}protected function mkfile($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$vb068931cc450442b63f5b3d276ea4297   = $args['name'];$vcb5e100e5a9a3e7f6d1fd97512215282  = [self::ERROR_MKFILE, $vb068931cc450442b63f5b3d276ea4297];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false  || ($v736007832d2167baaae763fd3a3f3cf1 = $v210ab9e731c9c36c2c38db15c28a8d1c->dir($v42aefbae01d2dfd981f7da7d823d689e, false, true)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_TRGDIR_NOT_FOUND, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e))];}if (!$v736007832d2167baaae763fd3a3f3cf1['read']) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_PERM_DENIED)];}if (($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->mkfile($v42aefbae01d2dfd981f7da7d823d689e, $args['name'])) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}return $this->trigger('mkfile', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => [$v8c7dd922ad47494fc02c388e12c00eac]]);}protected function rename($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$vb068931cc450442b63f5b3d276ea4297   = $args['name'];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false  ||  ($vd67f249b90615ca158b1258712c3a9fc  = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error(self::ERROR_RENAME, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND)];}if ($vd67f249b90615ca158b1258712c3a9fc['name'] == $vb068931cc450442b63f5b3d276ea4297) {return [];}if (($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->rename($v42aefbae01d2dfd981f7da7d823d689e, $vb068931cc450442b63f5b3d276ea4297)) == false) {return ['error' => $this->error(self::ERROR_RENAME, htmlspecialchars($vd67f249b90615ca158b1258712c3a9fc['name']), $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}return $this->merge([], $this->trigger('rename', $v210ab9e731c9c36c2c38db15c28a8d1c, ['removed' => [$v42aefbae01d2dfd981f7da7d823d689e], 'added' => [$v8c7dd922ad47494fc02c388e12c00eac], 'removedDetails' => [$vd67f249b90615ca158b1258712c3a9fc]]));}protected function duplicate($args) {$vaa6f6d62574dedec24672f4ae1c9ca26 = is_array($args['targets']) ? $args['targets'] : [];$result  = ['added' => []];if (!$vaa6f6d62574dedec24672f4ae1c9ca26) {return [];}foreach ($vaa6f6d62574dedec24672f4ae1c9ca26 as $v42aefbae01d2dfd981f7da7d823d689e) {if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false   ||  ($v25d902c24283ab8cfbac54dfa101ad31 = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {$result['warning'] = $this->error(self::ERROR_COPY, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND);break;}if (($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->duplicate($v42aefbae01d2dfd981f7da7d823d689e)) == false) {$result['warning'] = $this->error(self::ERROR_COPY, htmlspecialchars($v25d902c24283ab8cfbac54dfa101ad31['name']), $v210ab9e731c9c36c2c38db15c28a8d1c->error());break;}$result = $this->merge($result, $this->trigger('duplicate', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => [$v8c7dd922ad47494fc02c388e12c00eac], 'src' => $v25d902c24283ab8cfbac54dfa101ad31]));}return $result;}protected function rm($args) {$vaa6f6d62574dedec24672f4ae1c9ca26 = is_array($args['targets']) ? $args['targets'] : [];$result  = ['removed' => []];if (!$vaa6f6d62574dedec24672f4ae1c9ca26) {return [];}foreach ($vaa6f6d62574dedec24672f4ae1c9ca26 as $v42aefbae01d2dfd981f7da7d823d689e) {if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false   || ($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {$result['warning'] = $this->error(self::ERROR_RM, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND);break;}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->rm($v42aefbae01d2dfd981f7da7d823d689e)) {$result['warning'] = $this->error(self::ERROR_RM, htmlspecialchars($v8c7dd922ad47494fc02c388e12c00eac['name']), $v210ab9e731c9c36c2c38db15c28a8d1c->error());break;}$result = $this->merge($result, $this->trigger('rm', $v210ab9e731c9c36c2c38db15c28a8d1c, ['removed' => [$v42aefbae01d2dfd981f7da7d823d689e], 'removedDetails' => [$v8c7dd922ad47494fc02c388e12c00eac]]));}return $result;}protected function upload($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e);$v099fb995346f31c749f6e40db0f395e3 = !empty($args['html']) ? 'Content-Type: text/html; charset=utf-8' : false;$result = ['added' => [], 'header' => $v099fb995346f31c749f6e40db0f395e3];$v45b963397aa40d4a0063e0d85e4fe7a1  = !empty($args['FILES']['upload']) && is_array($args['FILES']['upload'])   ? $args['FILES']['upload']   : [];if (empty($v45b963397aa40d4a0063e0d85e4fe7a1)) {return ['error' => $this->error(self::ERROR_UPLOAD_NO_FILES), 'header' => $v099fb995346f31c749f6e40db0f395e3];}if (!$v210ab9e731c9c36c2c38db15c28a8d1c) {return ['error' => $this->error(self::ERROR_UPLOAD, htmlspecialchars($v45b963397aa40d4a0063e0d85e4fe7a1['name'][0]), self::ERROR_TRGDIR_NOT_FOUND, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e)), 'header' => $v099fb995346f31c749f6e40db0f395e3];}foreach ($v45b963397aa40d4a0063e0d85e4fe7a1['name'] as $v865c0c0b4ab0e063e5caa3387c1a8741 => $vb068931cc450442b63f5b3d276ea4297) {$v3b4305ca5958466aca62ab417ca628f5 = $v45b963397aa40d4a0063e0d85e4fe7a1['tmp_name'][$v865c0c0b4ab0e063e5caa3387c1a8741];if ($v45b963397aa40d4a0063e0d85e4fe7a1['error'][$v865c0c0b4ab0e063e5caa3387c1a8741]) {$result['warning'] = $this->error(self::ERROR_UPLOAD_TRANSFER, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297));break;}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->uploadAllow($v3b4305ca5958466aca62ab417ca628f5, $vb068931cc450442b63f5b3d276ea4297)) {$result['warning'] = $this->error(self::ERROR_UPLOAD, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297), $v210ab9e731c9c36c2c38db15c28a8d1c->error());break;}if (is_uploaded_file($v3b4305ca5958466aca62ab417ca628f5) == false   || ($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->save(null, $v42aefbae01d2dfd981f7da7d823d689e, $vb068931cc450442b63f5b3d276ea4297, 'upload')) == false) {$result['warning'] = $this->error(self::ERROR_UPLOAD, htmlspecialchars($vb068931cc450442b63f5b3d276ea4297), $v210ab9e731c9c36c2c38db15c28a8d1c->error());break;}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}$result = $this->merge($result, $this->trigger('upload', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => [$v8c7dd922ad47494fc02c388e12c00eac]]));}$result['header'] = $v099fb995346f31c749f6e40db0f395e3;return $result;}protected function paste($args) {$v28e3d688a3c077b887921cea3fb1dbc7     = $args['dst'];$vaa6f6d62574dedec24672f4ae1c9ca26 = is_array($args['targets']) ? $args['targets'] : [];$vfe47aa7c733c490d36e80508d5dc4019     = !empty($args['cut']);$result  = ['removed' => [], 'added' => []];$vcb5e100e5a9a3e7f6d1fd97512215282   = $vfe47aa7c733c490d36e80508d5dc4019 ? self::ERROR_MOVE : self::ERROR_COPY;if (!$vaa6f6d62574dedec24672f4ae1c9ca26) {return [];}if (($v013413ea55b41be72b20283d97d13ffc = $this->volume($v28e3d688a3c077b887921cea3fb1dbc7)) == false  || ($v1f96847148ce7b5798796309f94a4277 = $v013413ea55b41be72b20283d97d13ffc->dir($v28e3d688a3c077b887921cea3fb1dbc7)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, '#'.$vaa6f6d62574dedec24672f4ae1c9ca26[0], self::ERROR_TRGDIR_NOT_FOUND, '#'.htmlspecialchars($v28e3d688a3c077b887921cea3fb1dbc7))];}if (!$v1f96847148ce7b5798796309f94a4277['write']) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, '#'.$vaa6f6d62574dedec24672f4ae1c9ca26[0], self::ERROR_PERM_DENIED)];}foreach ($vaa6f6d62574dedec24672f4ae1c9ca26 as $v42aefbae01d2dfd981f7da7d823d689e) {if (($vdb1464c8472caad27fb423bafabf85a3 = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false   || ($v25d902c24283ab8cfbac54dfa101ad31 = $vdb1464c8472caad27fb423bafabf85a3->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, '#'.$v42aefbae01d2dfd981f7da7d823d689e, self::ERROR_FILE_NOT_FOUND);break;}if ($v013413ea55b41be72b20283d97d13ffc != $vdb1464c8472caad27fb423bafabf85a3) {if (!$vdb1464c8472caad27fb423bafabf85a3->copyFromAllowed()) {$v63a9f0ea7bb98050796b649e85481845 = $vdb1464c8472caad27fb423bafabf85a3->file($vdb1464c8472caad27fb423bafabf85a3->root());$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_COPY_FROM, htmlspecialchars($v63a9f0ea7bb98050796b649e85481845['name']));break;}if (!$v013413ea55b41be72b20283d97d13ffc->copyToAllowed()) {$v63a9f0ea7bb98050796b649e85481845 = $v013413ea55b41be72b20283d97d13ffc->file($v013413ea55b41be72b20283d97d13ffc->root());$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_COPY_TO, htmlspecialchars($v63a9f0ea7bb98050796b649e85481845['name']));break;}}if (($v8c7dd922ad47494fc02c388e12c00eac = $this->copy($vdb1464c8472caad27fb423bafabf85a3, $v013413ea55b41be72b20283d97d13ffc, $v25d902c24283ab8cfbac54dfa101ad31, $v28e3d688a3c077b887921cea3fb1dbc7, $vfe47aa7c733c490d36e80508d5dc4019)) == false) {$result['warning'] = $this->copyError;break;}if (!$v013413ea55b41be72b20283d97d13ffc->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}$result = $this->merge($result, $this->trigger('paste', [$vdb1464c8472caad27fb423bafabf85a3, $v013413ea55b41be72b20283d97d13ffc], ['added' => [$v8c7dd922ad47494fc02c388e12c00eac]]));if ($vfe47aa7c733c490d36e80508d5dc4019) {if (!$vdb1464c8472caad27fb423bafabf85a3->rm($v25d902c24283ab8cfbac54dfa101ad31['hash'])) {$result['warning'] = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v25d902c24283ab8cfbac54dfa101ad31['name'], $vdb1464c8472caad27fb423bafabf85a3->error());break;}$result = $this->merge($result, $this->trigger('rm', $vdb1464c8472caad27fb423bafabf85a3, ['removed' => [$v25d902c24283ab8cfbac54dfa101ad31['hash']], 'removedDetails' => [$v25d902c24283ab8cfbac54dfa101ad31]]));}}return $result;}protected function get($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e);if (!$v210ab9e731c9c36c2c38db15c28a8d1c) {return ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), self::ERROR_FILE_NOT_FOUND)];}return ($v9a0364b9e99bb480dd25e1f0284c8555 = $v210ab9e731c9c36c2c38db15c28a8d1c->getContents($v42aefbae01d2dfd981f7da7d823d689e)) === false   ? ['error' => $this->error(self::ERROR_OPEN, '#'.htmlspecialchars($v42aefbae01d2dfd981f7da7d823d689e), $v210ab9e731c9c36c2c38db15c28a8d1c->error())]   : ['content' => $v9a0364b9e99bb480dd25e1f0284c8555];}protected function put($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$vcb5e100e5a9a3e7f6d1fd97512215282  = [self::ERROR_SAVE, '#'.$v42aefbae01d2dfd981f7da7d823d689e];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false  || ($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_FILE_NOT_FOUND)];}if (($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->putContents($v42aefbae01d2dfd981f7da7d823d689e, $args['content'])) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}if (!$v210ab9e731c9c36c2c38db15c28a8d1c->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['mime'], $args['mimes'])) {$v8c7dd922ad47494fc02c388e12c00eac['hidden'] = true;}return $this->trigger('put', $v210ab9e731c9c36c2c38db15c28a8d1c, ['changed' => [$v8c7dd922ad47494fc02c388e12c00eac]]);}protected function extract($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];$vb7dc2388172d09ec768ce7212f97673c   = !empty($args['mimes']) && is_array($args['mimes']) ? $args['mimes'] : [];$vcb5e100e5a9a3e7f6d1fd97512215282  = [self::ERROR_EXTRACT, '#'.$v42aefbae01d2dfd981f7da7d823d689e];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) == false  || ($v8c7dd922ad47494fc02c388e12c00eac = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v42aefbae01d2dfd981f7da7d823d689e)) == false) {return ['error' => $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, self::ERROR_FILE_NOT_FOUND)];}if (($vb60ed88355ac3f6898fd8a7ab1734d06 = $v210ab9e731c9c36c2c38db15c28a8d1c->extract($v42aefbae01d2dfd981f7da7d823d689e)) === false) {return ['error' => $this->error(self::ERROR_EXTRACT, htmlspecialchars($v8c7dd922ad47494fc02c388e12c00eac['name']), $v210ab9e731c9c36c2c38db15c28a8d1c->error())];}return $this->trigger('extract', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => $vb60ed88355ac3f6898fd8a7ab1734d06]);}protected function archive($args) {$vaa6f6d62574dedec24672f4ae1c9ca26 = isset($args['targets']) && is_array($args['targets']) ? $args['targets'] : [];$v599dcce2998a6b40b1e38e8c6006cb0a    = $args['type'];$vb7dc2388172d09ec768ce7212f97673c   = !empty($args['mimes']) && is_array($args['mimes']) ? $args['mimes'] : [];$v210ab9e731c9c36c2c38db15c28a8d1c  = count($vaa6f6d62574dedec24672f4ae1c9ca26) ? $this->volume($vaa6f6d62574dedec24672f4ae1c9ca26[0]) : false;if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($vaa6f6d62574dedec24672f4ae1c9ca26[0])) == false) {return $this->error(self::ERROR_ARCHIVE, self::ERROR_TRGDIR_NOT_FOUND);}if (($v888d0ee361af3603736f32131e7b20a2 = $v210ab9e731c9c36c2c38db15c28a8d1c->archive($vaa6f6d62574dedec24672f4ae1c9ca26, $args['type'])) == false) {return $this->error(self::ERROR_ARCHIVE, $v210ab9e731c9c36c2c38db15c28a8d1c->error());}return $this->trigger('archive', $v210ab9e731c9c36c2c38db15c28a8d1c, ['added' => [$v888d0ee361af3603736f32131e7b20a2]], $vb7dc2388172d09ec768ce7212f97673c);}protected function search($args) {$v7694f4a66316e53c8cdd9d9954bd611d      = trim($args['q']);$vb7dc2388172d09ec768ce7212f97673c  = !empty($args['mimes']) && is_array($args['mimes']) ? $args['mimes'] : [];$result = [];foreach ($this->volumes as $v210ab9e731c9c36c2c38db15c28a8d1c) {$result = array_merge($result, $v210ab9e731c9c36c2c38db15c28a8d1c->search($v7694f4a66316e53c8cdd9d9954bd611d, $vb7dc2388172d09ec768ce7212f97673c));}return ['files' => $result];}protected function info($args) {$v45b963397aa40d4a0063e0d85e4fe7a1 = [];foreach ($args['targets'] as $v0800fc577294c34e0b28ad2839435945) {if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v0800fc577294c34e0b28ad2839435945)) != false   && ($vcaf9b6b99962bf5c2264824231d7a40c = $v210ab9e731c9c36c2c38db15c28a8d1c->file($v0800fc577294c34e0b28ad2839435945)) != false) {$v45b963397aa40d4a0063e0d85e4fe7a1[] = $vcaf9b6b99962bf5c2264824231d7a40c;}}return ['files' => $v45b963397aa40d4a0063e0d85e4fe7a1];}protected function dim($args) {$v42aefbae01d2dfd981f7da7d823d689e = $args['target'];if (($v210ab9e731c9c36c2c38db15c28a8d1c = $this->volume($v42aefbae01d2dfd981f7da7d823d689e)) != false) {$v563728df0fdd90631ac1e51258e2857d = $v210ab9e731c9c36c2c38db15c28a8d1c->dimensions($v42aefbae01d2dfd981f7da7d823d689e);return $v563728df0fdd90631ac1e51258e2857d ? ['dim' => $v563728df0fdd90631ac1e51258e2857d] : [];}return [];}protected function copy($vdb1464c8472caad27fb423bafabf85a3, $v013413ea55b41be72b20283d97d13ffc, $v25d902c24283ab8cfbac54dfa101ad31, $v28e3d688a3c077b887921cea3fb1dbc7, $vfe47aa7c733c490d36e80508d5dc4019) {$vcb5e100e5a9a3e7f6d1fd97512215282 = $vfe47aa7c733c490d36e80508d5dc4019 ? self::ERROR_MOVE : self::ERROR_COPY;if (!$v25d902c24283ab8cfbac54dfa101ad31['read']) {$this->copyError = $this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v25d902c24283ab8cfbac54dfa101ad31['name'], self::ERROR_PERM_DENIED);return false;}$vb068931cc450442b63f5b3d276ea4297 = $v25d902c24283ab8cfbac54dfa101ad31['name'];$v0800fc577294c34e0b28ad2839435945 = $v25d902c24283ab8cfbac54dfa101ad31['hash'];if ($v25d902c24283ab8cfbac54dfa101ad31['mime'] == 'directory') {if (($v736007832d2167baaae763fd3a3f3cf1 = $v013413ea55b41be72b20283d97d13ffc->mkdir($v28e3d688a3c077b887921cea3fb1dbc7, $vb068931cc450442b63f5b3d276ea4297, true)) == false) {$this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $vb068931cc450442b63f5b3d276ea4297, $v013413ea55b41be72b20283d97d13ffc->error());return false;}if (($v45b963397aa40d4a0063e0d85e4fe7a1 = $vdb1464c8472caad27fb423bafabf85a3->scandir($v0800fc577294c34e0b28ad2839435945)) === false) {$this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $vb068931cc450442b63f5b3d276ea4297, $vdb1464c8472caad27fb423bafabf85a3->error());return false;}foreach ($v45b963397aa40d4a0063e0d85e4fe7a1 as $v8c7dd922ad47494fc02c388e12c00eac) {if (!$this->copy($vdb1464c8472caad27fb423bafabf85a3, $v013413ea55b41be72b20283d97d13ffc, $v8c7dd922ad47494fc02c388e12c00eac, $v736007832d2167baaae763fd3a3f3cf1['hash'], $vfe47aa7c733c490d36e80508d5dc4019)) {$this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $v8c7dd922ad47494fc02c388e12c00eac['name'], $vdb1464c8472caad27fb423bafabf85a3->error());return false;}}return $v013413ea55b41be72b20283d97d13ffc->dir($v736007832d2167baaae763fd3a3f3cf1['hash']);}if (($v0666f0acdeed38d4cd9084ade1739498 = $vdb1464c8472caad27fb423bafabf85a3->open($v0800fc577294c34e0b28ad2839435945)) == false) {$this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $vb068931cc450442b63f5b3d276ea4297, $vdb1464c8472caad27fb423bafabf85a3->error());return false;}if (($v8c7dd922ad47494fc02c388e12c00eac = $v013413ea55b41be72b20283d97d13ffc->save($v0666f0acdeed38d4cd9084ade1739498, $v28e3d688a3c077b887921cea3fb1dbc7, $vb068931cc450442b63f5b3d276ea4297, 'copy')) == false) {$this->error($vcb5e100e5a9a3e7f6d1fd97512215282, $vb068931cc450442b63f5b3d276ea4297, $vdb1464c8472caad27fb423bafabf85a3->error());}$vdb1464c8472caad27fb423bafabf85a3->close($v0666f0acdeed38d4cd9084ade1739498, $v0800fc577294c34e0b28ad2839435945);return $v8c7dd922ad47494fc02c388e12c00eac;}protected function volume($v0800fc577294c34e0b28ad2839435945) {foreach ($this->volumes as $vb80bb7740288fda1f201890375a60c8f => $v9e3669d19b675bd57058fd4664205d2a) {if (mb_strpos(''.$v0800fc577294c34e0b28ad2839435945, $vb80bb7740288fda1f201890375a60c8f) === 0) {return $this->volumes[$vb80bb7740288fda1f201890375a60c8f];}}return false;}protected function trigger($vdfff0a7fa1a55c8c1a4966c19f6da452, $v078831e29f354e83fac6da3db6ed6b7b, $result, $vb7dc2388172d09ec768ce7212f97673c= []) {$v8d777f385d3dfec8815d20f7496026dc = [   'cmd'     => $vdfff0a7fa1a55c8c1a4966c19f6da452,   'volumes' => is_array($v078831e29f354e83fac6da3db6ed6b7b) ? $v078831e29f354e83fac6da3db6ed6b7b : [$v078831e29f354e83fac6da3db6ed6b7b],   'result'  => $result  ];$v078831e29f354e83fac6da3db6ed6b7b = is_array($v078831e29f354e83fac6da3db6ed6b7b) ? $v078831e29f354e83fac6da3db6ed6b7b : [$v078831e29f354e83fac6da3db6ed6b7b];$v14f802e1fba977727845e8872c1743a7    = array_keys($result);if (!is_array($vb7dc2388172d09ec768ce7212f97673c)) {$vb7dc2388172d09ec768ce7212f97673c = [];}if (!empty($this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452])) {foreach ($this->listeners[$vdfff0a7fa1a55c8c1a4966c19f6da452] as $vc1cbfe271a40788a00e8bf8574d94d4b) {$result = is_array($vc1cbfe271a40788a00e8bf8574d94d4b) && count($vc1cbfe271a40788a00e8bf8574d94d4b) > 1     ? $vc1cbfe271a40788a00e8bf8574d94d4b[0]->{$vc1cbfe271a40788a00e8bf8574d94d4b[1]}($vdfff0a7fa1a55c8c1a4966c19f6da452, $v078831e29f354e83fac6da3db6ed6b7b, $result)     : $vc1cbfe271a40788a00e8bf8574d94d4b($vdfff0a7fa1a55c8c1a4966c19f6da452, $v078831e29f354e83fac6da3db6ed6b7b, $result);if (is_array($result)) {$v2d2dee7af60385a060eae7f556845a8b = array_diff($v14f802e1fba977727845e8872c1743a7, array_keys($result));if (empty($v2d2dee7af60385a060eae7f556845a8b)) {$result = $result;}}}}$v056b24cf66b803e2590770f9bcb6c7a8 = array_pop($v078831e29f354e83fac6da3db6ed6b7b);if (!empty($result['added']) && is_array($result['added'])) {foreach ($result['added'] as $v865c0c0b4ab0e063e5caa3387c1a8741 => $v8c7dd922ad47494fc02c388e12c00eac) {if (!empty($v8c7dd922ad47494fc02c388e12c00eac['hidden']) || !$v056b24cf66b803e2590770f9bcb6c7a8->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['hash'], $vb7dc2388172d09ec768ce7212f97673c)) {unset($result['added'][$v865c0c0b4ab0e063e5caa3387c1a8741]);}}$result['added'] = array_merge([], $result['added']);}if (!empty($result['changed']) && is_array($result['changed'])) {foreach ($result['changed'] as $v865c0c0b4ab0e063e5caa3387c1a8741 => $v8c7dd922ad47494fc02c388e12c00eac) {if (!empty($v8c7dd922ad47494fc02c388e12c00eac['hidden']) || !$v056b24cf66b803e2590770f9bcb6c7a8->mimeAccepted($v8c7dd922ad47494fc02c388e12c00eac['hash'], $vb7dc2388172d09ec768ce7212f97673c)) {unset($result['changed'][$v865c0c0b4ab0e063e5caa3387c1a8741]);}}$result['changed'] = array_merge([], $result['changed']);}return $result;}protected function merge($vf97c5d29941bfb1b2fdab0874906ab82, $vb8a9f715dbb64fd5c56e7783c6820a61) {if (!empty($vb8a9f715dbb64fd5c56e7783c6820a61['error'])) {$vf97c5d29941bfb1b2fdab0874906ab82['warning'] = $vb8a9f715dbb64fd5c56e7783c6820a61['error'];}if (!empty($vb8a9f715dbb64fd5c56e7783c6820a61['warning'])) {$vf97c5d29941bfb1b2fdab0874906ab82['warning'] = $vb8a9f715dbb64fd5c56e7783c6820a61['warning'];}if (!empty($vb8a9f715dbb64fd5c56e7783c6820a61['added']) && is_array($vb8a9f715dbb64fd5c56e7783c6820a61['added'])) {if (!isset($vf97c5d29941bfb1b2fdab0874906ab82['added']) || !is_array($vf97c5d29941bfb1b2fdab0874906ab82['added'])) {$vf97c5d29941bfb1b2fdab0874906ab82['added'] = $vb8a9f715dbb64fd5c56e7783c6820a61['added'];}else {$vf97c5d29941bfb1b2fdab0874906ab82['added'] = array_merge($vf97c5d29941bfb1b2fdab0874906ab82['added'], $vb8a9f715dbb64fd5c56e7783c6820a61['added']);}}if (!empty($vb8a9f715dbb64fd5c56e7783c6820a61['removed']) && is_array($vb8a9f715dbb64fd5c56e7783c6820a61['removed'])) {if (!isset($vf97c5d29941bfb1b2fdab0874906ab82['removed']) || !is_array($vf97c5d29941bfb1b2fdab0874906ab82['removed'])) {$vf97c5d29941bfb1b2fdab0874906ab82['removed'] = $vb8a9f715dbb64fd5c56e7783c6820a61['removed'];}else {$vf97c5d29941bfb1b2fdab0874906ab82['removed'] = array_merge($vf97c5d29941bfb1b2fdab0874906ab82['removed'], $vb8a9f715dbb64fd5c56e7783c6820a61['removed']);}}return $vf97c5d29941bfb1b2fdab0874906ab82;}protected function utime() {$v07cc694b9b3fc636710fa08b6922c42b = explode(' ', microtime());return (double)$v07cc694b9b3fc636710fa08b6922c42b[1] + (double)$v07cc694b9b3fc636710fa08b6922c42b[0];}}